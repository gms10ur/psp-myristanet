{% extends "base.html" %} {% block title %}{{ t(category.slug) }} - {{
t('title') }}{% endblock %} {% block content %}
<div class="category-title">{{ t(category.slug) }}</div>
<hr class="psp-separator" />

{% if entries %} {% if category.slug == 'games' %}
<!-- Games kategorisi için PSP uyumlu tablo -->
<table style="width: 100%; border-collapse: collapse; font-size: 10px">
  <thead>
    <tr
      style="background-color: rgba(17, 45, 78, 0.3); color: {{ colors.light }};"
    >
      <th style="width: 30px; padding: 2px; text-align: center">Icon</th>
      <th style="padding: 2px 5px; text-align: left">Oyun</th>
      <th style="width: 50px; padding: 2px; text-align: center">Boyut</th>
      <th style="width: 30px; padding: 2px; text-align: center">İndir</th>
    </tr>
  </thead>
  <tbody>
    {% for entry in entries %}
    <tr style="border-bottom: 1px solid {{ colors.secondary }};">
      <td style="padding: 2px; text-align: center">
        {% if entry.icon_path %}
        <img
          src="{{ get_localized_icon(entry.icon_path) }}"
          alt="{{ entry.title }}"
          width="24"
          height="24"
        />
        {% else %}
        <img
          src="{{ get_localized_icon('/images/empty_button.png') }}"
          alt="{{ entry.title }}"
          width="24"
          height="24"
        />
        {% endif %}
      </td>
      <td
        style="padding: 2px 5px; text-align: left; color: {{ colors.light }};"
      >
        {{ entry.title[:30] }}{% if entry.title|length > 30 %}...{% endif %}
      </td>
      <td
        style="padding: 2px; text-align: center; font-size: 8px; color: {{ colors.secondary }};"
      >
        {{ entry.file_size or 'N/A' }}
      </td>
      <td style="padding: 2px; text-align: center">
        <a href="{{ url_for('download_file', entry_id=entry.id) }}">
          <img
            src="{{ get_localized_icon('/images/dl.png') }}"
            alt="İndir"
            width="20"
            height="20"
          />
        </a>
      </td>
    </tr>
    {% endfor %}
  </tbody>
</table>
{% else %}
<!-- Diğer kategoriler için PSP uyumlu liste görünümü -->
<table style="width: 100%; border-collapse: collapse; font-size: 10px">
  {% for entry in entries %}
  <tr style="border-bottom: 1px solid {{ colors.secondary }}; padding: 2px 0;">
    <td style="width: 30px; padding: 2px; text-align: center">
      <img
        src="{% if entry.icon_path %}{{ entry.icon_path }}{% else %}{{ get_localized_icon('/images/empty_button.png') }}{% endif %}"
        alt="{{ entry.title }}"
        width="24"
        height="24"
      />
    </td>
    <td style="padding: 2px 5px; color: {{ colors.light }};">
      <div style="font-weight: bold; font-size: 10px">
        {{ entry.title[:35] }}{% if entry.title|length > 35 %}...{% endif %}
      </div>
      {% if entry.description %}
      <div style="font-size: 8px; color: {{ colors.light }}; opacity: 0.8;">
        {{ entry.description[:45] }}{% if entry.description|length > 45 %}...{%
        endif %}
      </div>
      {% endif %}
    </td>
    <td
      style="width: 50px; padding: 2px; text-align: center; font-size: 8px; color: {{ colors.secondary }};"
    >
      {% if entry.file_size %}{{ entry.file_size }}{% endif %}
    </td>
    <td style="width: 30px; padding: 2px; text-align: center">
      <a href="{{ url_for('download_file', entry_id=entry.id) }}">
        <img
          src="{{ get_localized_icon('/images/dl.png') }}"
          alt="İndir"
          width="20"
          height="20"
        />
      </a>
    </td>
  </tr>
  {% endfor %}
</table>
{% endif %} {% else %}
<div
  style="text-align: center; color: {{ colors.light }}; font-size: 11px; padding: 20px;"
>
  Bu kategoride henüz içerik yok.
</div>
{% endif %}

<hr class="psp-separator" />
<div style="text-align: center; font-size: 10px; padding: 3px">
  <a
    href="javascript:history.back()"
    style="color: {{ colors.secondary }}; text-decoration: none;"
    >← Geri</a
  >
</div>
{% endblock %}
